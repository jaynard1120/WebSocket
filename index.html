<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Web Socket MQTT</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" />
  <script src="index.js"></script>
  <script src="./browserMqtt.js"></script>
</head>
<style>
  .header {
    background-color: #76a6f5;
  }

  .main {
    border: 1px solid black;
  }

  .card {
    background-color: #76a6f5;
  }

  .card-body {
    background-color: white;
  }

  tr {
    border-bottom: 2px solid #d4d6d9;
  }

  th {
    width: 20%;
  }

  td {
    font-size: small;
  }
</style>

<body>
  <h1 style="margin-top: 5%;" class="pl-5">MQTT over Web Socket.</h1>
  <div class="container mt-2">
    <div class="row">
      <div class="col-sm mb-5">
        <div class="card" style="width: 100%">
          <h4 class="pl-3">Broker</h4>
          <div class="card-body">
            <label for="broker" style="font-weight: bold">Address: </label>
            <input type="text" style="width: 100%; padding: 3px" id="broker"
              value="wss://test.mosquitto.org:8081/mqtt" />
            <button type="button" class="btn btn-primary mt-2" onclick="connect()">Connect</button><br />
            <label for="status" style="font-weight: bold">Status: </label>
            <input type="text" id="status" style="
                  background-color: #e1e2e3;
                  border: none;
                  padding: 3px;
                  width: 100%;
                " disabled value="Press Connect" />
          </div>
        </div>

        <div class="card mt-1" style="width: 100%;background-color: #bbd1f5;">
          <h4 class="pl-3">Incoming Messages</h4>
          <div class="card-body">
            <table id="m-table">
              <tr>
                <th>Topic</th>
                <th>Payload</th>
                <th>Time Stamp</th>
              </tr>
            </table>
          </div>
        </div>
      </div>

      <div class="col-sm mb-5">
        <div class="card" style="width: 100%">
          <h4 class="pl-3">Publish</h4>
          <div class="card-body">
            <label for="topic" style="font-weight: bold">Topic: </label>
            <input type="text" id="topic" style="width: 100%; padding: 3px" value="cloud" />
            <label for="payload" style="font-weight: bold">Payload: </label>
            <input type="text" id="payload" style="width: 100%; padding: 3px" value="strife" />
            <button type="button" class="btn btn-primary mt-2" onclick="publish()">
              Publish
            </button>
          </div>
        </div>

        <div class="card mt-1" style="width: 100%;background-color: #bbd1f5;">
          <h4 class="pl-3">Published Messages</h4>
          <div class="card-body">
            <table id="p-table">
              <tr>
                <th>Topic</th>
                <th>Payload</th>
                <th>Time Stamp</th>
              </tr>
            </table>
          </div>
        </div>
      </div>

      <div class="col-sm mb-5">
        <div class="card" style="width: 100%">
          <h4 class="pl-3">Subscribe</h4>
          <div class="card-body">
            <label for="s-topic" style="font-weight: bold">Topic: </label>
            <input type="text" id="s-topic" style="width: 100%; padding: 3px" value="cloud" />
            <button type="button" class="btn btn-primary mt-2" onclick="subscribe()">
              Subscribe
            </button>
          </div>
        </div>

        <div class="card mt-1" style="width: 100%;background-color: #bbd1f5;">
          <h4 class="pl-3">Subcribed Messages</h4>
          <div class="card-body">
            <table id="s-table">
              <tr>
                <th>Topic</th>
                <th>Time Stamp</th>
              </tr>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>

</html>